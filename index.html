<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CODE | Logística Minimalista y Premium</title>
    
    <style>
        /* ---------------------- ESTILOS GLOBALES ---------------------- */
        html {
            scroll-behavior: smooth; 
        }
        body {
            margin: 0;
            padding: 0;
            /* CORRECCIÓN 2: Asegura que el contenido esté centrado horizontalmente */
            display: flex;
            flex-direction: column;
            align-items: center; /* Centrado horizontal */
            justify-content: flex-start;
            min-height: 100vh;
            background-color: #f5f5f7; 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            color: #1d1d1f;
            padding: 20px;
            padding-top: 50px; 
            overflow-x: hidden;
            transition: background-color 0.5s; 
        }

        /* ---------------------- PRE-LOADER (INDICADOR DE CARGA) ---------------------- */
        #preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #f5f5f7;
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 1;
            transition: opacity 0.5s ease-out;
        }

        .spinner {
            border: 4px solid rgba(0, 122, 255, 0.2);
            border-top: 4px solid #007aff;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* ---------------------- HERO Y GLOW ---------------------- */
        .hero-glow-blob {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%); 
            width: clamp(500px, 80vw, 1000px); 
            height: clamp(500px, 80vw, 1000px);
            background: radial-gradient(circle, rgba(0, 122, 255, 0.2) 0%, transparent 70%); 
            border-radius: 50%;
            filter: blur(80px);
            z-index: -1;
            animation: moveGlow 15s ease-in-out infinite alternate, subtleScale 8s ease-in-out infinite alternate;
        }

        @keyframes moveGlow {
            0% { transform: translate(-50%, -50%) scale(0.95); }
            100% { transform: translate(-45%, -55%) scale(1.05); }
        }
        
        @keyframes subtleScale {
            0% { transform: scale(0.98); }
            100% { transform: scale(1.02); }
        }

        /* ---------------------- BOTÓN DE LLAMADA DESPLEGABLE (Derecha Superior) ---------------------- */
        .call-dropdown-container {
            /* Fija el elemento en la esquina superior derecha */
            position: fixed; 
            top: 15px; 
            right: 15px; 
            z-index: 10000; 
            opacity: 0;
            animation: fadeInButton 0.8s ease-out forwards;
            animation-delay: 1.0s;
        }
        
        /* El menú se posiciona absolutamente respecto al contenedor fijo, alineado a la derecha */
        .call-dropdown-menu {
            position: absolute;
            top: 100%; 
            right: 0; 
            margin-top: 10px; 
            padding: 8px 0;
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            min-width: 150px;
            
            visibility: hidden;
            opacity: 0;
            transform: translateY(-5px);
            transition: visibility 0.3s, opacity 0.3s, transform 0.3s;
        }
        
        .call-dropdown-container:hover .call-dropdown-menu {
            visibility: visible;
            opacity: 1;
            transform: translateY(0);
        }

        /* Estilos del botón principal y elementos del menú */
        .call-toggle-button {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 38px;
            height: 38px;
            background-color: rgba(0, 122, 255, 0.1); 
            border: 1px solid rgba(0, 122, 255, 0.2);
            border-radius: 50%;
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease;
            cursor: pointer;
            position: relative;
            z-index: 1000;
        }
        
        .call-toggle-button:hover {
            transform: scale(1.1);
            background-color: rgba(0, 122, 255, 0.2);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        .call-toggle-button svg {
            width: 18px;
            height: 18px;
            fill: #007aff;
        }

        .dropdown-item {
            display: block;
            padding: 8px 15px;
            color: #1d1d1f;
            font-size: 0.9em;
            text-decoration: none;
            transition: background-color 0.2s;
            font-weight: 500;
        }
        
        .dropdown-item span {
            color: #86868b;
            font-size: 0.75em;
            display: block; 
        }
        
        .dropdown-item:hover {
            background-color: #f0f0f5; 
            color: #007aff;
        }
        
        @keyframes fadeInButton {
            to { opacity: 1; }
        }

        /* ---------------------- CONTENIDO PRINCIPAL Y LOGO TRASLUZ ---------------------- */
        .content-section {
            width: 100%;
            max-width: 1000px;
            text-align: center;
            flex-grow: 1; 
            display: flex;
            flex-direction: column;
            justify-content: center; 
            /* Se mantiene el centrado dentro del body centrado */
        }

        .welcome-text {
            font-size: clamp(3rem, 10vw, 6rem); 
            font-weight: 800;
            letter-spacing: -0.04em;
            text-transform: uppercase;
            color: #1d1d1f; 
            margin-bottom: clamp(10px, 2vw, 20px);
            
            opacity: 0;
            transform: translateY(20px);
            
            /* Trasluz: Se ejecuta 1 vez cada 6 segundos */
            background: linear-gradient(90deg, 
                #1d1d1f 0%, #1d1d1f 5%, 
                #a0a0a0 20%, /* El brillo (luz) */
                #1d1d1f 35%, #1d1d1f 100% 
            ); 
            background-size: 200% auto; 
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
            animation: textSlideUp 1.2s cubic-bezier(0.2, 0.5, 0.2, 1) forwards, 
                       shine 6s linear infinite 1.5s; 
        }

        /* Animación del efecto de trasluz con retorno al color base (Nítido) */
        @keyframes shine {
            0% { background-position: -100% 0; } 
            16.6% { background-position: 200% 0; } 
            100% { background-position: 200% 0; } 
        }
        
        @keyframes textSlideUp {
            0% { opacity: 0; transform: translateY(20px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        .description {
            font-size: clamp(1em, 3vw, 1.4em); 
            color: #86868b;
            max-width: 650px;
            margin: 0 auto clamp(30px, 5vw, 50px) auto;
            padding: 0 10px;
            opacity: 0;
            animation: fadeIn 1s ease-out forwards;
            animation-delay: 1.0s;
        }

        @keyframes fadeIn { to { opacity: 1; } }

        /* ---------------------- TARJETAS (CARDS) ---------------------- */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
            gap: clamp(15px, 3vw, 25px);
            margin-top: 30px;
            width: 100%;
            opacity: 0;
            transform: translateY(30px);
            animation: statsSlideUp 1.5s cubic-bezier(0.2, 0.5, 0.2, 1) forwards;
            animation-delay: 1.5s;
        }

        @keyframes statsSlideUp {
            to { opacity: 1; transform: translateY(0); }
        }

        .stat-item {
            background-color: #ffffff;
            border-radius: 18px;
            padding: clamp(20px, 4vw, 35px);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08); 
            transition: transform 0.3s ease, box-shadow 0.3s ease; 
            text-align: center;
        }

        .stat-item:hover {
            transform: translateY(-5px); 
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12); 
        }
        
        .stat-number {
            font-size: clamp(2.2em, 5vw, 3.5em);
            font-weight: 700;
            color: #007aff; 
            line-height: 1.1;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: clamp(1em, 2vw, 1.1em);
            font-weight: 600;
            color: #1d1d1f;
        }
        
        /* ---------------------- PIE DE PÁGINA (FOOTER) ---------------------- */
        .footer {
            width: 100%;
            max-width: 1000px;
            padding: 20px 0;
            margin-top: 40px;
            border-top: 1px solid #e0e0e5; 
            text-align: center;
            color: #86868b;
            font-size: 0.9em;
            opacity: 0;
            animation: fadeIn 1s ease-out forwards;
            animation-delay: 2.5s; 
        }
        
        .footer a {
            color: #86868b;
            text-decoration: none;
            transition: color 0.2s;
            margin: 0 10px;
        }
        
        .footer a:hover {
            color: #1d1d1f;
        }
    </style>
</head>
<body>
    
    <div id="preloader">
        <div class="spinner"></div>
    </div>

    <div class="hero-glow-blob"></div>

    <div class="call-dropdown-container">
        <div class="call-toggle-button" aria-label="Opciones de Llamada">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.24.2 2.45.57 3.57.11.35.03.74-.24 1.02l-2.2 2.2z"/></svg>
        </div>
        
        <div class="call-dropdown-menu">
            <a href="tel:+34642638704" class="dropdown-item">
                Central <span>+34 642 638 704</span>
            </a>
            <a href="tel:+34607371053" class="dropdown-item">
                Soporte Técnico <span>+34 607 371 053</span>
            </a>
        </div>
    </div>

    <div class="content-section">
        
        <h1 class="welcome-text">CODE</h1>
        
        <p class="description">
            Su socio en logística inteligente. Aplicamos la vanguardia del código para optimizar cada ruta y entrega, garantizando velocidad y precisión inigualables.
        </p>

        <div class="stats-grid">
            
            <div class="stat-item">
                <div class="stat-number" data-stat-id="routes" data-target="15800">0</div>
                <div class="stat-label">Rutas Completadas</div>
            </div>
            
            <div class="stat-item">
                <div class="stat-number" data-stat-id="km" data-target="450000">0</div>
                <div class="stat-label">Kilómetros Recorridos</div>
            </div>
            
            <div class="stat-item">
                <div class="stat-number" data-stat-id="efficiency" data-target="99.9">0</div>
                <div class="stat-label">Tasa de Eficiencia (%)</div>
            </div>

        </div>
    </div>
    
    <footer class="footer">
        © 2025 CODE Logistics. Todos los derechos reservados.
        <a href="#">Política de Privacidad</a> | 
        <a href="#">Términos de Uso</a>
    </footer>

    <script>
        // Función para calcular valores basados en la fecha actual (SIMULACIÓN DIARIA)
        function calculateDynamicTarget(statId) {
            const baseDate = new Date('2025-10-01T00:00:00');
            const currentDate = new Date();
            const diffTime = Math.abs(currentDate - baseDate);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            
            let baseValue, dailyIncrease;

            if (statId === 'routes') {
                baseValue = 15000;
                dailyIncrease = 12;
            } else if (statId === 'km') {
                baseValue = 440000;
                dailyIncrease = 550;
            } else if (statId === 'efficiency') {
                return 99.9;
            }

            return baseValue + (diffDays * dailyIncrease);
        }

        // Función principal de animación de contadores y lógica de pre-loader
        document.addEventListener('DOMContentLoaded', () => {
            const counters = document.querySelectorAll('.stat-number');
            const duration = 2000; 

            counters.forEach(counter => {
                const statId = counter.getAttribute('data-stat-id');
                if (statId !== 'efficiency') {
                    const newTarget = calculateDynamicTarget(statId);
                    counter.setAttribute('data-target', newTarget);
                }
            });

            const startCounter = (counter) => {
                const target = +counter.getAttribute('data-target');
                const isFloat = counter.textContent.includes('.');
                const start = 0;
                let startTime = null;

                const animate = (timestamp) => {
                    if (!startTime) startTime = timestamp;
                    const progress = timestamp - startTime;
                    const percentage = Math.min(progress / duration, 1);
                    let value = percentage * (target - start) + start;

                    if (isFloat) {
                        counter.textContent = value.toFixed(1);
                    } else {
                        counter.textContent = Math.floor(value).toLocaleString('es-ES');
                    }

                    if (percentage < 1) {
                        window.requestAnimationFrame(animate);
                    } else {
                        counter.textContent = isFloat ? target.toFixed(1) : target.toLocaleString('es-ES');
                    }
                };
                window.requestAnimationFrame(animate);
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        setTimeout(() => {
                             counters.forEach(startCounter);
                             observer.unobserve(entry.target);
                        }, 500); 
                    }
                });
            }, {
                threshold: 0.1 
            });

            const statsGrid = document.querySelector('.stats-grid');
            if (statsGrid) {
                observer.observe(statsGrid);
            }
        });

        // LÓGICA PARA OCULTAR EL PRE-LOADER
        window.addEventListener('load', () => {
            const preloader = document.getElementById('preloader');
            if (preloader) {
                setTimeout(() => {
                    preloader.style.opacity = '0';
                    setTimeout(() => {
                        preloader.style.display = 'none';
                    }, 500);
                }, 300);
            }
        });
    </script>
</body>
</html>
